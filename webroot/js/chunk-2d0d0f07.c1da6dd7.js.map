{"version":3,"sources":["webpack:///./src/page/Web.vue?c4a1","webpack:///src/page/Web.vue","webpack:///./src/page/Web.vue?8c48","webpack:///./src/page/Web.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","on","click","$event","send","_v","reply","staticRenderFns","Webvue_type_script_lang_js_","name","date","webSocket","created","initWebSocket","destroyed","close","methods","wsUri","WebSocket","onmessage","onMessage","onopen","onOpen","onerror","onError","onclose","console","log","e","data","Data","params","message","http","post","ports","chat","res","page_Webvue_type_script_lang_js_","component","Object","componentNormalizer","__webpack_exports__"],"mappings":"yHAAA,IAAAA,EAAA,WAA0B,IAAAC,EAAAC,KAAaC,EAAAF,EAAAG,eAA0BC,EAAAJ,EAAAK,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAAA,EAAA,UAA8BE,GAAA,CAAIC,MAAA,SAAAC,GAAyB,OAAAR,EAAAS,KAAA,MAAqB,CAAAT,EAAAU,GAAA,QAAAN,EAAA,UAA8BE,GAAA,CAAIC,MAAAP,EAAAW,QAAmB,CAAAX,EAAAU,GAAA,aAC9NE,EAAA,GCOAC,EAAA,CACAC,KAAA,MACAC,KAFA,WAGA,OACAC,UAAA,OAGAC,QAPA,WAQAhB,KAAAiB,iBAEAC,UAVA,WAWAlB,KAAAe,UAAAI,SAEAC,QAAA,CACAH,cADA,WAEA,IAAAI,EAAA,iCACArB,KAAAe,UAAA,IAAAO,UAAAD,GACArB,KAAAe,UAAAQ,UAAAvB,KAAAwB,UACAxB,KAAAe,UAAAU,OAAAzB,KAAA0B,OACA1B,KAAAe,UAAAY,QAAA3B,KAAA4B,QACA5B,KAAAe,UAAAc,QAAA7B,KAAAmB,OAEAO,OATA,WAUAI,QAAAC,IAAA,kBACA/B,KAAAQ,KAAA,mBAEAoB,QAbA,WAcA5B,KAAAiB,iBAEAO,UAhBA,SAgBAQ,GACAF,QAAAC,IAAA,eAAAC,EAAAC,OAEAzB,KAnBA,SAmBA0B,GACAlC,KAAAe,UAAAP,KAAA0B,IAEAf,MAtBA,SAsBAa,GACAF,QAAAC,IAAA,oBAAAC,IAGAtB,MA1BA,WA2BA,IAAAyB,EAAA,CACAC,QAAA,QAEApC,KAAAqC,KAAAC,KAAAtC,KAAAuC,MAAAC,KAAAhC,KAAA2B,EAAA,SAAAM,SCnD6UC,EAAA,cCO7UC,EAAgBC,OAAAC,EAAA,KAAAD,CACdF,EACA5C,EACAa,GACF,EACA,KACA,WACA,MAIemC,EAAA,WAAAH","file":"js/chunk-2d0d0f07.c1da6dd7.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('Button',{on:{\"click\":function($event){return _vm.send(1)}}},[_vm._v(\"发送\")]),_c('Button',{on:{\"click\":_vm.reply}},[_vm._v(\"回复\")])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div>\r\n        <Button @click=\"send(1)\">发送</Button>\r\n        <Button @click=\"reply\">回复</Button>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    export default {\r\n        name: \"Web\",\r\n        date() {\r\n            return{\r\n                webSocket: null,\r\n            }\r\n        },\r\n        created() {\r\n            this.initWebSocket();\r\n        },\r\n        destroyed() {\r\n            this.webSocket.close() //离开路由之后断开webSocket连接\r\n        },\r\n        methods: {\r\n            initWebSocket(){ //初始化webSocket\r\n                const wsUri = \"ws://localhost:10001/webSocket\";\r\n                this.webSocket = new WebSocket(wsUri);\r\n                this.webSocket.onmessage = this.onMessage;\r\n                this.webSocket.onopen = this.onOpen;\r\n                this.webSocket.onerror = this.onError;\r\n                this.webSocket.onclose = this.close;\r\n            },\r\n            onOpen(){ //连接建立之后执行send方法发送数据\r\n                console.log('connection ok!');\r\n                this.send('connection ok!');\r\n            },\r\n            onError(){//连接建立失败重连\r\n                this.initWebSocket();\r\n            },\r\n            onMessage(e){ //数据接收\r\n                console.log('get message：',e.data)\r\n            },\r\n            send(Data){//数据发送\r\n                this.webSocket.send(Data);\r\n            },\r\n            close(e){  //关闭\r\n                console.log('connection close!',e);\r\n            },\r\n\r\n            reply(){\r\n                let params = {\r\n                    message: '测试回复'\r\n                };\r\n                this.http.post(this.ports.chat.send, params, res => {\r\n\r\n                });\r\n            }\r\n        },\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Web.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Web.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Web.vue?vue&type=template&id=21106fb8&scoped=true&\"\nimport script from \"./Web.vue?vue&type=script&lang=js&\"\nexport * from \"./Web.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"21106fb8\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}